# 无符号数和有符号数转换

对于c语言两个数之间:一个有符号数,一个无符号数参与运算,会隐式将有符号转为无符号再运算.

## 对于采用补码表示的数据,有如下特性:

对于有符号数,按照权重的方式去理解,负数可以理解为走反向步数,然后在正向走步数.

![](D:\Coding\Some_Book\CSAPP\笔记\有符号数与无符号数转换2.png)

## 补码表示有符号数公式如下:

![](.\有符号数与无符号数转换1.png)

也就是说,第一位的权重为一个负数 2 ^ (w - 1), 其余位的权重均为正,在补码表示下就会出现这样的效果:

1.如果为一个整数,那么首位必然为0,与首位权重得到0,也就是该数为一个正数.

2.如果为一个整数,那么首位必然为1,与首位权重得到的数也必然为一个负数(首位权重与1相乘的值必定大于后面所有的位上权重与数相乘再累加的和,例如1111,即为 -8 + 4 + 2 + 1 = -1).

![](.\有符号数与无符号数转换3.png)

## 对于无符号数和有符号数之间的转换关系:

对于一个二进制数,他可以表示为一个位向量的形式,图中B2U为无符号数,B2T为有符号数.

Xw-1即位向量的最高位(也就是从左往右第一位),同理Xw-2即位向量的次高位(也就是从左往右第二位),以此类推.......

![](.\有符号数与无符号数转换4.png)

T2U表示有符号数到无符号数的函数映射,U2T表示无符号数到有符号数的函数映射.

![](D:\Coding\Some_Book\CSAPP\笔记\有符号数与无符号数转换5.png)

### 1.有符号转为无符号

#### (1)若最高位(Xw-1)为1

在该有符号数 + 2 ^ w (也就是说两者之间相差了首位权重的二倍,即 2 ^ (w - 1) * 2  =  2 ^ w)

#### (2若最高位(Xw-1)为0

则两数相等

### 2.无符号数转有符号数

#### (1)若首位为1

在该无符号数 - 2 ^ w(也就是说两者之间相差了首位权重的二倍, 即 2 ^ (w - 1) * 2  =  2 ^ w)

#### (2)若首位为0

则两数相等